# HyprDisplays

Simple monitor management for Hyprland.

![Main Interface](assets/Pasted%20image.png)

## Features

- **Monitor Management**: Intuitively arrange your displays with drag-and-drop.
- **Display History**: Automatically saves your layout, resolution, and scale for every display combination. Disconnect and reconnect monitors, and everything returns to how you left it.
- **Magnetic Snapping**: Monitors snap to edges easily.
- **Auto-apply**: Changes are applied instantly when you reconnect familiar monitors (requires daemon).

## Screenshots

<p align="center">
  <img src="assets/advanced.png" alt="Advanced Settings" width="45%">
  <img src="assets/identify.png" alt="Identify Displays" width="45%">
</p>

## Installation

### Fedora

```bash
sudo dnf install python3-gobject gtk4 libadwaita
./installer.py
```

### Other Distributions

Install `gtk4`, `libadwaita`, and `python3-gobject`, then run:

```bash
./installer.py
```

## Usage

Launch from your application menu ("Hyprland Display Manager") or terminal:

```bash
hyprdisplays
```

## Getting Started

### Dashboard

1. **Arrange Screens**: Drag the screen boxes to match your physical desk setup.
2. **Setup**: Click on a screen to change settings like Scale or Resolution.
3. **Save**: Click **Apply & Save**. You have 15 seconds to confirm if it looks right.

### Why use it?

- **It Remembers**: Use different monitors at work and home? HyprDisplays remembers the layout and settings for every combination of screens you've used.
- **Easy Alignment**: Screens snap together so your mouse moves smoothly between them.

## Configuration

### Files

HyprDisplays manages the following files in `~/.config/hypr/`:

- `monitors.conf`: The generated Hyprland configuration file containing monitor rules.
- `hyprdisplays_profiles.json`: Database of your saved layouts and profiles.

### Integration

To make Hyprland use the configuration generated by HyprDisplays, add this line to your `hyprland.conf`:

```conf
source = ~/.config/hypr/monitors.conf
```

_Note: HyprDisplays will create `monitors.conf` when you first apply a setting._

## Advanced Usage

### The Daemon

The daemon (`hyprdisplays-daemon.py`) runs in the background to detect monitor changes and automatically apply your saved profiles. This ensures that your preferred layout is restored immediately when you dock your laptop or connect external screens.

It performs a periodic background check of the connected monitors to detect changes in the hardware configuration.

### Management

The installer sets up a user systemd service. Make sure it is installed and running for the full "plug-and-play" experience.

```bash
# Check status
systemctl --user status hyprdisplays-daemon

# Enable and start
systemctl --user enable --now hyprdisplays-daemon

# View logs
journalctl --user -u hyprdisplays-daemon -f
```

### Manual Run

If you don't use systemd:

```bash
# Run in background
nohup ~/.local/share/hyprdisplays/src/hyprdisplays-daemon.py &
```

### Profiles & History

Profiles are stored in `~/.config/hypr/hyprdisplays_profiles.json`.
A profile is matched based on a "fingerprint" of all connected monitors (Manufacturer, Model, Serial).

The application maintains a history of up to 50 previous configurations in the JSON file. This allows for auditing or potential recovery of older setups if needed.

If you connect a new set of monitors, HyprDisplays will treat it as a new profile. Configure it once in the GUI, save it, and it will be remembered/added to history.
